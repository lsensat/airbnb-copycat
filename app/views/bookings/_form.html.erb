<section class="booking-form">
  <%= simple_form_for [@flat, @booking], data: { controller: 'flatpickr' } do |f| %>
    <h3>â‚¬ <%= @flat.price %> night</h3>
    <section>
      <%= f.input :start_time, as: :string, label: 'Check-in', input_html: { data: { flatpickr_target: "startTime" } } %>
      <%= f.input :end_time, as: :string, label: 'Checkout', input_html: { data: { flatpickr_target: "endTime", action: "change->flatpickr#updatePrice" }, id: 'endTime' } %>
    </section>
    <%= f.submit "Reserve", class: "btn-action-long" %>

    <p class="warning"><em>You won't be charged yet</em></p>

    <ul>
      <li><%= @flat.price %> x 1</li>
      <li><%= @flat.price %></li>
      <%# <li><%= f.input :total_price, :as => :hidden, input_html: { data: { flatpickr_target: "priceTotal", initialPrice_target: @flat.price }, value: @flat.price, readonly: true } %></li>
    </ul>
    <ul>
      <li>Cleaning fee</li>
      <li data-flatpickr-target="fee"><%= 233 %></li>
    </ul>
    <ul class="total">
      <li><strong>Total</strong></li>
      <li><%= @flat.price + 233 %></li>
      <%# <li><%= f.input :total_price, label: false, input_html: { data: { flatpickr_target: "priceTotal" }, value: @flat.price, readonly: true } %></li>
    </ul>
  <% end %>
</section>
